# Nanna Architecture - Voice Conversation Flow

## High-Level Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              YOUR BROWSER                                    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚  â”‚
â”‚  â”‚  YOU SPEAK  â”‚â”€â”€â”€â–¶â”‚    STT      â”‚â”€â”€â”€â–¶â”‚    LLM      â”‚â”€â”€â”€â–¶â”‚    TTS      â”‚  â”‚
â”‚  â”‚             â”‚    â”‚  (Google)   â”‚    â”‚  (Gemini)   â”‚    â”‚ (Voice Cloneâ”‚  â”‚
â”‚  â”‚  ğŸ¤         â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                  â”‚                  â”‚                  â”‚           â”‚
â”‚        â”‚                  â”‚                  â”‚                  â–¼           â”‚
â”‚        â”‚            FREE (Browser)      Text only         NANNA SPEAKS     â”‚
â”‚        â”‚            No upload!          (cheap!)          In his voice!    â”‚
â”‚        â”‚                                                       ğŸ”Š           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    [Microphone]
```

---

## Detailed Component Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    FRONTEND (Browser)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                              app.js (Controller)                               â”‚  â”‚
â”‚   â”‚                                                                                â”‚  â”‚
â”‚   â”‚   1. User clicks mic / types text                                             â”‚  â”‚
â”‚   â”‚   2. Coordinates STT â†’ LLM â†’ TTS flow                                         â”‚  â”‚
â”‚   â”‚   3. Updates UI (avatar, status, chat)                                        â”‚  â”‚
â”‚   â”‚                                                                                â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                              â”‚                              â”‚               â”‚
â”‚         â–¼                              â–¼                              â–¼               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚  stt.js   â”‚                 â”‚  llm.js   â”‚                 â”‚  tts.js   â”‚          â”‚
â”‚   â”‚           â”‚                 â”‚           â”‚                 â”‚           â”‚          â”‚
â”‚   â”‚ Web Speechâ”‚    "Hello       â”‚  Gemini   â”‚    "Ra Chinna   â”‚ Voice     â”‚          â”‚
â”‚   â”‚ API       â”‚â”€â”€â”€â–¶ Nanna"â”€â”€â”€â”€â–¶â”‚  API      â”‚â”€â”€â”€â–¶ ..."â”€â”€â”€â”€â”€â”€â–¶â”‚ Synthesis â”‚          â”‚
â”‚   â”‚           â”‚                 â”‚           â”‚                 â”‚           â”‚          â”‚
â”‚   â”‚ FREE!     â”‚     TEXT        â”‚  TEXT     â”‚     TEXT        â”‚ AUDIO     â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                              â”‚                              â”‚               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ Runs      â”‚                 â”‚ API Call  â”‚                 â”‚ Provider  â”‚          â”‚
â”‚   â”‚ locally   â”‚                 â”‚ to cloud  â”‚                 â”‚ options:  â”‚          â”‚
â”‚   â”‚ in browserâ”‚                 â”‚           â”‚                 â”‚           â”‚          â”‚
â”‚   â”‚           â”‚                 â”‚ Sends:    â”‚                 â”‚ â€¢ Browser â”‚          â”‚
â”‚   â”‚ Uses      â”‚                 â”‚ - Text    â”‚                 â”‚   (free)  â”‚          â”‚
â”‚   â”‚ Google's  â”‚                 â”‚ - Prompt  â”‚                 â”‚ â€¢ Eleven  â”‚          â”‚
â”‚   â”‚ engine    â”‚                 â”‚           â”‚                 â”‚   Labs    â”‚          â”‚
â”‚   â”‚           â”‚                 â”‚ Returns:  â”‚                 â”‚ â€¢ Coqui   â”‚          â”‚
â”‚   â”‚ No audio  â”‚                 â”‚ - Text    â”‚                 â”‚   (local) â”‚          â”‚
â”‚   â”‚ uploaded! â”‚                 â”‚           â”‚                 â”‚           â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    EXTERNAL SERVICES                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚               â”‚
â”‚   â”‚   GEMINI API    â”‚     â”‚   ELEVENLABS    â”‚     â”‚   COQUI (Local) â”‚               â”‚
â”‚   â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚               â”‚
â”‚   â”‚  Text â†’ Text    â”‚     â”‚  Text â†’ Audio   â”‚     â”‚  Text â†’ Audio   â”‚               â”‚
â”‚   â”‚                 â”‚     â”‚  (Nanna voice)  â”‚     â”‚  (Nanna voice)  â”‚               â”‚
â”‚   â”‚  $0.0001/1K     â”‚     â”‚  Free: 10k      â”‚     â”‚  FREE           â”‚               â”‚
â”‚   â”‚  tokens         â”‚     â”‚  chars/month    â”‚     â”‚  Self-hosted    â”‚               â”‚
â”‚   â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Cost Analysis (Per Conversation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COST PER CONVERSATION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   STT (Speech-to-Text)                                             â”‚
â”‚   â””â”€â”€ Web Speech API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ $0.00 FREE   â”‚
â”‚                                                                     â”‚
â”‚   LLM (Text Processing)                                            â”‚
â”‚   â””â”€â”€ Gemini Flash (500 tokens avg) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ~$0.00005      â”‚
â”‚                                                                     â”‚
â”‚   TTS (Text-to-Speech)                                             â”‚
â”‚   â”œâ”€â”€ Browser TTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ $0.00 FREE    â”‚
â”‚   â”œâ”€â”€ ElevenLabs (150 chars avg) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ~$0.003        â”‚
â”‚   â””â”€â”€ Coqui (self-hosted) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ $0.00 FREE     â”‚
â”‚                                                                     â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚   TOTAL (with ElevenLabs): ~$0.003/conversation                    â”‚
â”‚   TOTAL (with Coqui/Browser): ~$0.00005/conversation (almost free) â”‚
â”‚                                                                     â”‚
â”‚   Compare to: Sending audio to Gemini â”€â”€ ~$0.02+/conversation      â”‚
â”‚               (Your approach is 400x cheaper!)                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow - What Goes Where

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               DATA FLOW PRIVACY                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚   YOUR VOICE                                                                         â”‚
â”‚       â”‚                                                                              â”‚
â”‚       â–¼                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ BROWSER (Local Processing)                   â”‚                                   â”‚
â”‚   â”‚                                              â”‚                                   â”‚
â”‚   â”‚   Web Speech API processes audio locally     â”‚  â—€â”€â”€ Audio stays on device!     â”‚
â”‚   â”‚   Converts to TEXT                           â”‚                                   â”‚
â”‚   â”‚                                              â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚       â”‚                                                                              â”‚
â”‚       â”‚  Only TEXT sent to cloud                                                     â”‚
â”‚       â–¼                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ GEMINI API (Cloud)                           â”‚                                   â”‚
â”‚   â”‚                                              â”‚                                   â”‚
â”‚   â”‚   Receives: Text message + System prompt     â”‚                                   â”‚
â”‚   â”‚   Returns: Text response                     â”‚                                   â”‚
â”‚   â”‚                                              â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚       â”‚                                                                              â”‚
â”‚       â”‚  Text response                                                               â”‚
â”‚       â–¼                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ TTS (ElevenLabs/Coqui)                       â”‚                                   â”‚
â”‚   â”‚                                              â”‚                                   â”‚
â”‚   â”‚   Receives: Text                             â”‚                                   â”‚
â”‚   â”‚   Returns: Audio in Nanna's voice            â”‚                                   â”‚
â”‚   â”‚                                              â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚       â”‚                                                                              â”‚
â”‚       â–¼                                                                              â”‚
â”‚   YOU HEAR NANNA                                                                     â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Structure

```
webapp/
â”œâ”€â”€ index.html          # UI - Avatar + Input
â”œâ”€â”€ config.js           # Settings & API keys
â”œâ”€â”€ stt.js              # Speech-to-Text (Web Speech API)
â”œâ”€â”€ llm.js              # LLM integration (Gemini/OpenAI)
â”œâ”€â”€ tts.js              # Text-to-Speech (Browser/ElevenLabs/Coqui)
â”œâ”€â”€ app.js              # Main controller
â”œâ”€â”€ ARCHITECTURE.md     # This file
â””â”€â”€ VOICE_CLONING_GUIDE.md  # How to clone Nanna's voice
```

---

## Integration with Nutrinine

When ready to integrate into `nutrinine-web`:

1. Copy these files:
   - `stt.js` â†’ Speech recognition module
   - `llm.js` â†’ AI conversation module
   - `tts.js` â†’ Voice synthesis module
   - `config.js` â†’ Adapt to nutrinine config

2. The modules are independent:
   - Use just STT for voice commands
   - Use just TTS for reading content aloud
   - Use full flow for Nanna conversations

3. Each module exports a simple class with clear methods:
   - `stt.start()`, `stt.stop()`, `stt.onResult`
   - `llm.chat(text)` â†’ returns response
   - `tts.speak(text)` â†’ plays audio
